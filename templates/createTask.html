{% extends 'base_template.html' %}

{% block title %}
    <title>Crear tarea</title>
{% endblock %}

{% block content %}
    {% include 'components/Navbar.html' %}
    <div style="height: calc(100dvh - 80px);">
        <div class="uk-flex uk-flex-center uk-flex-middle uk-height-1-1">
            <form class="uk-text-center" method="post">{% csrf_token %}
                <fieldset class="uk-fieldset">
            
                    <legend class="uk-legend">Crea una tarea</legend>
            
                    <div class="uk-margin">
                        <label class="uk-form-label" for="form-stacked-text">Titulo</label>
                        <div class="uk-form-controls">
                            <input class="uk-input" id="form-stacked-text" type="text" name="title">
                        </div>
                    </div>
                    <div class="uk-margin">
                        <label class="uk-form-label" for="form-stacked-text">Descripcion</label>
                        <div class="uk-form-controls">
                            <textarea class="uk-textarea" id="form-stacked-text" type="text" name="description"></textarea>
                        </div>
                    </div>

                    <div class="uk-margin">
                        <label class="uk-form-label" for="form-stacked-text">Fecha limite</label>
                        <input class="uk-input" type="date" id="start" name="deadline"
                            value="2023-07-23">
                    </div>


                    <div class="uk-margin">
                        <label class="uk-form-label" for="form-stacked-text">Responsable</label>
                        <select class="uk-select" name="owner">
                            {% for item in all_users %}
                                <option value="{{item}}">{{item}}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="uk-margin">
                        <label class="uk-form-label" for="form-stacked-text">Supervisor</label>
                        <select class="uk-select" name="supervisor">
                            {% for item in all_users %}
                                <option value="{{item}}">{{item}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div class="uk-margin">
                        <label class="uk-form-label" for="form-stacked-text">Estado</label>
                        <select class="uk-select" name="state">
                            <option value="pending">Pendiente</option>
                            <option value="overdue">Atrasado</option>
                            <option value="inProgress">En proceso</option>
                            <option value="awaiting">Esperando revision</option>
                            <option value="approved">Aprobada</option>
                            <option value="rejected">Rechazada</option>
                        </select>
                    </div>                    
                    <button 
                        type="submit" 
                        formmethod="post" 
                        formaction="/create-task"  
                        class="uk-button uk-button-primary">
                            Crear tarea
                    </button>
                </fieldset>
            </form>
        </div>    
    </div>
{% endblock %}